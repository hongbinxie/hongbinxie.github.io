<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.lug.ustc.edu.cn/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="在看该笔记前，要先看动态网页站开发基础">
<meta property="og:type" content="article">
<meta property="og:title" content="03-PHP">
<meta property="og:url" content="http://yoursite.com/2020/03/29/03-PHP/index.html">
<meta property="og:site_name" content="凝水为城">
<meta property="og:description" content="在看该笔记前，要先看动态网页站开发基础">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-03-29T14:42:20.789Z">
<meta property="article:modified_time" content="2020-03-29T16:06:39.561Z">
<meta property="article:author" content="谢红斌">
<meta property="article:tag" content="PHP">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2020/03/29/03-PHP/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>03-PHP | 凝水为城</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>
  
<link rel="alternate" href="/atom.xml" title="凝水为城" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
	
	<a href="https://your-url" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
	
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">凝水为城</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">谢红斌的博客小栈</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="search-pop-overlay">
  <div class="popup search-popup">
      <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

  </div>
</div>

  </div>
</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/29/03-PHP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="谢红斌">
      <meta itemprop="description" content="谢红斌个人网站-记录web前端学习的个人博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="凝水为城">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          03-PHP
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-29 22:42:20" itemprop="dateCreated datePublished" datetime="2020-03-29T22:42:20+08:00">2020-03-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-30 00:06:39" itemprop="dateModified" datetime="2020-03-30T00:06:39+08:00">2020-03-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E5%8F%B0%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">后台语言</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>在看该笔记前，要先看动态网页站开发基础</p>
<a id="more"></a>

<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ul>
<li>php学习笔记有的中间不用看，看最后总结</li>
<li>手册查找：在索引里找</li>
<li>php代码与html代码 <ul>
<li>php不会受html执行的影响。</li>
<li>什么时候执行：PHP在服务器运行环境执行。html在浏览器执行。</li>
<li>php执行时只关心字符串。</li>
</ul>
</li>
<li>但真正开发时，配环境：不会一个个装，而是直接用集成环境去装（将apche、php、mysql等全部装好）。而初学：不这样做，是因为容易把这些软件的职责搞乱</li>
<li>学习重心：如何去跟HTML混编。</li>
<li>php所有能力都是函数，内置1000多个函数</li>
<li>适用工具：sublime写php很方便，如if后tab键，会直接出现指令式的代码段。要不知道有哪些代码端，ctrl+shift+p命令面板里输入Snippet:，列出的都是代码端、对应方式<ul>
<li>sublime高效、没有太多提示类的东西、纯粹点</li>
</ul>
</li>
</ul>
<h2 id="配置-PHP-支持"><a href="#配置-PHP-支持" class="headerlink" title="配置 PHP 支持"></a>配置 PHP 支持</h2><p>大致过程：解压php-&gt;loadmodule-&gt;addtype</p>
<blockquote>
<p>实验：尝试在网站中添加一个扩展名为 php 的文件，然后到浏览器中访问它。</p>
<p>实验结果：并没有显示我们想要的 Hello PHP ，而是将代码原封不动的返回给浏览器了。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">!‐‐</span> <span class="attr">demo.php</span> ‐‐&gt;</span> </span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> <span class="string">'Hello PHP'</span>; <span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>原因很简单：Apache 只能处理静态文件请求，对于后缀名为 .php 这种动态文件，它无法执行，所以就当成是一 个静态文件直接返回了。</p>
</blockquote>
<p>解决方法——配置PHP支持：</p>
<ol>
<li><p>下载PHP，在服务器（电脑）上安装 PHP </p>
<ol>
<li>解压 php 到纯英文路径目录中 （PHP是辅助工具，放这就好，剩下是Apache的事）</li>
</ol>
<blockquote>
<p>你可以理解为：Apache 是一家没有太多能力的公司，只能处理一些简单的业务（静态网站），但是心很大想 做更多的事（动态网站），所以就想到了外包，所有额外的业务都需要外包给其他程序，而 PHP 就是理解为 一个专门能够处理 php 业务的外包公司</p>
</blockquote>
</li>
<li><p>在 Apache 中添加支持 PHP 的配置  </p>
<ol>
<li><p>在 Apache 的配置文件httpd.conf，找到添加位置，添加 PHP 处理模块（如果目录有空格，给目录加“”）</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># php sup<span class="keyword">port</span> LoadModule php7_module C:/Develop/php/php7apache2_4.dll</span><br></pre></td></tr></table></figure>
</li>
<li><p>在 <IfModule mime_module> 节点中添加 .php 扩展名解析支持（因为PHP不根据后缀判断是否工作，是根据MIME Type工作：如text/html。在conf/mime.types中没有将这类型与扩展名关联，所以要加载）</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># parse .php files </span></span><br><span class="line">AddType <span class="built_in">application</span>/x‐httpd‐php .php</span><br></pre></td></tr></table></figure>
</li>
<li><p>默认文档配置节点 <IfModule dir_module> 中添加 index.php</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">IfModule</span> <span class="attr">dir_module</span>&gt;</span>     </span><br><span class="line">	DirectoryIndex index.html index.php <span class="tag">&lt;/<span class="name">IfModule</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h2 id="什么是PHP"><a href="#什么是PHP" class="headerlink" title="什么是PHP"></a>什么是PHP</h2><ul>
<li>嵌入在HTML中的脚本语言，适合做动态网页开发（因为：动态网站核心：界面上的内容可以变化）</li>
<li>松散的弱类型语言（如js，现在流行）</li>
<li>PHP的价值：通过执行某些PHP代码<strong>获取</strong>到指定的数据（API），<strong>填充</strong>到HTML的指定位置（混编）。</li>
<li>PHP就好像一个大号的模板引擎，只是比模板引擎较复杂</li>
<li>PHP的工作核心：字符串拼接：<strong>php标记以外的</strong>代码原封不动地输出，<strong>php标记以内的</strong>根据执行得到结果（根据代码逻辑来控制）。</li>
</ul>
<h2 id="PHP写在哪"><a href="#PHP写在哪" class="headerlink" title="PHP写在哪"></a>PHP写在哪</h2><p>跟html混编在一块。（最终执行时：<strong>php标记以外的</strong>代码原封不动地输出，<strong>php标记以内的</strong>就根据代码逻辑来控制。）所以，注意！不要在.php写注释</p>
<h2 id="PHP使用"><a href="#PHP使用" class="headerlink" title="PHP使用"></a>PHP使用</h2><h3 id="PHP-标记"><a href="#PHP-标记" class="headerlink" title="PHP 标记"></a>PHP 标记</h3><ul>
<li><p>&lt;?php 可以让代码进入“PHP 模式” （进入标记）</p>
</li>
<li><p>?&gt; 可以让代码退出“PHP 模式”（结束标记）</p>
</li>
<li><p>只有处于 PHP 标记内部的代码才是 PHP 代码，PHP 标记以外都原封不动。</p>
</li>
<li><p>注意PHP内部代码有；</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> date(<span class="string">'Y‐m‐d'</span>); <span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="省略结束标记"><a href="#省略结束标记" class="headerlink" title="省略结束标记"></a>省略结束标记</h3><p>原因：若在php结束标记后面打换行，虽然界面中不显示，但浏览器源代码中会出现换行</p>
<p>建议删除结束标记情况：</p>
<ul>
<li>PHP 代码段处于整个文件的末尾</li>
<li>这个文件只用php代码，没有混编情况</li>
</ul>
<p>这样不会有额外的空行产生。</p>
<h3 id="输出内容方式"><a href="#输出内容方式" class="headerlink" title="输出内容方式"></a>输出内容方式</h3><ul>
<li><p>echo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F; 用途：只能打印字符串（打印布尔值会true——1，false——没有）</span><br><span class="line">&#x2F;&#x2F; 注意：echo后面紧跟着一个空格;字符串一般用单引号括起，因为双引号功能强大导致效率低些。</span><br><span class="line">&#x2F;&#x2F; 可以同时输出多个内容，用“，”隔开。输出结果会拼接起来</span><br><span class="line">echo &#39;hello php&#39;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>print</p>
<ul>
<li>用法跟echo一样，但只能打印一个数据。</li>
</ul>
</li>
<li><p>var_dump</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">&#x2F;&#x2F; 用途：可打印各种值，一般调试用。用于输出数据类型及数据、布尔值</span><br><span class="line">&#x2F;&#x2F;	var_dump 是一个函数，必须跟上 () 调用</span><br><span class="line">&#x2F;&#x2F; 可以将数据以及数据的类型打印为特定格式 </span><br><span class="line">var_dump(&#39;hello php&#39;);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">还有一些输出函数（可以通过查手册自学，用到再说），例如： <span class="keyword">exit</span>() <span class="regexp">/ print_r() 等等</span></span><br></pre></td></tr></table></figure>

<h3 id="与HTML混编"><a href="#与HTML混编" class="headerlink" title="与HTML混编"></a>与HTML混编</h3><p>普通嵌入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&lt;?php echo &#39;hello&#39;; ?&gt;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<p>语句混编</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php if ($age &gt;&#x3D; 18) &#123; ?&gt; 	&#x2F;&#x2F;js+&#123; 不容易看</span><br><span class="line">	&lt;p&gt;成年人&lt;&#x2F;p&gt; </span><br><span class="line">&lt;?php &#125; else &#123; ?&gt;  </span><br><span class="line">	&lt;p&gt;小朋友&lt;&#x2F;p&gt;</span><br><span class="line">&lt;?php &#125; ?&gt;</span><br></pre></td></tr></table></figure>

<p>更常见的用法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php if ($age &gt; 18): ?&gt;	&#x2F;&#x2F;js+指令式代码  易看</span><br><span class="line">	&lt;p&gt;成年人&lt;&#x2F;p&gt; </span><br><span class="line">&lt;?php else: ?&gt;   </span><br><span class="line">	&lt;p&gt;小朋友&lt;&#x2F;p&gt; </span><br><span class="line">&lt;?php endif ?&gt;</span><br></pre></td></tr></table></figure>

<p>注意：换行——要在html页面换行，要</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> ’&lt;br&gt;‘； <span class="string">//</span>而不是<span class="keyword">echo</span> ’\n‘；</span><br></pre></td></tr></table></figure>

<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>#、//    单行注释</p>
<p>/**/    多行注释</p>
<p>注意：不要在与HTML混编时写注释。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">&#x2F;&#x2F; 这是一条单行注释 </span><br><span class="line"># 井号也可以做注释（不要用，有点生僻）</span><br><span class="line">&#x2F;*</span><br><span class="line">多行注释</span><br><span class="line">*&#x2F;</span><br><span class="line">$foo &#x3D; &#39;hello&#39;;</span><br></pre></td></tr></table></figure>

<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="编程语言常见的语法（学习新语言的方法）"><a href="#编程语言常见的语法（学习新语言的方法）" class="headerlink" title="编程语言常见的语法（学习新语言的方法）"></a>编程语言常见的语法（学习新语言的方法）</h3><p>所有编程语言都可以这样学习，按顺序跟上一门旧语言对比，那不同重点看哪儿</p>
<ul>
<li><p>变量 —— 用于临时存放数据的容器 </p>
</li>
<li><p>顺序结构 —— 先干什么再干什么 </p>
</li>
<li><p>分支结构 —— 如果怎样就怎样否则怎样 </p>
</li>
<li><p>循环结构 —— 不断的做某件相同的事 </p>
</li>
<li><p>函数 —— 提前设计好一件事怎么干，然后想什么时候干就什么时候干 </p>
</li>
<li><p>运算符 —— 数学运算和字符串拼接 </p>
</li>
<li><p>字面量 —— 在代码中用某些字符组成，能够表达一个具体的值 这些字符之间表示数据的方式叫做字面量</p>
</li>
</ul>
<p>如php：跟js不同的地方——这些重点来学，其它跟js一样报错了再说</p>
<ol>
<li><p>变量 </p>
</li>
<li><p>双引号字符串和单引号字符串的差异 </p>
</li>
<li><p>指令式的语法 </p>
</li>
<li><p>foreach </p>
</li>
<li><p>函数作用域问题</p>
</li>
<li><p>字符串拼接</p>
</li>
</ol>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ul>
<li><p>申明变量：$变量名</p>
</li>
<li><p>变量名同样是区分大小写的。</p>
</li>
<li><p>变量无需声明类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">$foo; &#x2F;&#x2F; 申明一个变量，变量名为 &#96;foo&#96;，未对其进行赋值 $bar &#x3D; &#39;baz&#39;; &#x2F;&#x2F; 申明一个变量，将一个值为 &#96;baz&#96; 的字符串赋值给它 </span><br><span class="line">echo $foo; &#x2F;&#x2F; 输出一个变量名为 &#96;foo&#96; 的变量 fn($bar); &#x2F;&#x2F; 将一个变量名为 &#96;foo&#96; 的变量作为 &#96;fn&#96; 的实参传递</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h4><p>常见的 PHP 数据类型与 JavaScript 基本一致：    </p>
<ul>
<li><p>string（字符串）</p>
</li>
<li><p>integer（整型）—— 只能存整数 </p>
</li>
<li><p>ﬂoat（浮点型）—— 可以存带小数位的数字 </p>
</li>
<li><p>boolean（布尔型） </p>
</li>
<li><p>array（数组） </p>
</li>
<li><p>object（对象） </p>
</li>
<li><p>NULL（空） </p>
</li>
<li><p>Resource（资源类型） </p>
</li>
<li><p>Callback / Callable（回调或者叫可调用类型）</p>
</li>
</ul>
<h5 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h5><p>单引号字符串 (只对字符串有用，对函数参数没用相当于)</p>
<p>​    不支持特殊的转义符号，例如 \n </p>
<p>​    如果要表示一个单引号字符内容，可以通过 &#39; 表达 </p>
<p>​    如果要表示一个反斜线字符内容，可以通过 \ 表达</p>
<p>双引号字符串（一般不使用，因为功能强导致效率低）<br>    支持转义符号 (只对字符串有用，对函数参数没用不相当于)</p>
<p>​    支持变量解析</p>
<blockquote>
<p>字符串函数<br><a href="http://php.net/manual/zh/ref.strings.php" target="_blank" rel="noopener">http://php.net/manual/zh/ref.strings.php</a></p>
<p> <a href="http://www.w3school.com.cn/php/php_string.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/php/php_string.asp</a></p>
</blockquote>
<p>数组<br>PHP 中数组可以分为两类：<br>索引数组<br>    与 JavaScript 中的数组基本一致</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;?php</span> <span class="string">//</span> <span class="string">定义一个索引数组</span> <span class="string">$arr</span> <span class="string">=</span> <span class="string">array(1,</span> <span class="number">2</span><span class="string">,</span> <span class="number">3</span><span class="string">,</span> <span class="number">4</span><span class="string">,</span> <span class="number">5</span><span class="string">);</span> </span><br><span class="line"><span class="string">var_dump($arr);</span>   </span><br><span class="line"></span><br><span class="line"><span class="string">//</span> <span class="string">PHP</span> <span class="number">5.4</span> <span class="string">以后定义的方式可以用</span> <span class="string">`[]`</span> <span class="string">$arr2</span> <span class="string">=</span> <span class="string">[1,</span> <span class="number">2</span><span class="string">,</span> <span class="number">3</span><span class="string">,</span> <span class="number">4</span><span class="string">,</span> <span class="number">5</span><span class="string">];</span> </span><br><span class="line"><span class="string">var_dump($arr2);</span></span><br></pre></td></tr></table></figure>

<p>关联数组<br>    有点类似于 JavaScript 中的对象</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php // 注意：键只能是<span class="string">`integer`</span>或者<span class="string">`string`</span> $arr = array(<span class="string">'key1'</span> =&gt; <span class="string">'value1'</span>, <span class="string">'key2'</span> =&gt; <span class="string">'value2'</span>); </span><br><span class="line">var_dump($arr);   </span><br><span class="line"></span><br><span class="line">// PHP <span class="number">5.4</span> 以后定义的方式可以用 <span class="string">`[]`</span> $arr2 = [<span class="string">'key1'</span> =&gt; <span class="string">'value1'</span>, <span class="string">'key2'</span> =&gt; <span class="string">'value2'</span>]; var_dump($arr2);</span><br></pre></td></tr></table></figure>

<h4 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h4><blockquote>
<p>参考：<a href="http://php.net/manual/zh/language.types.type-juggling.php" target="_blank" rel="noopener">http://php.net/manual/zh/language.types.type-juggling.php</a></p>
</blockquote>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line"><span class="variable">$str</span> = <span class="string">'132'</span>;</span><br><span class="line"><span class="regexp">//</span> 将一个内容为数字的字符串强制转换为一个整形的数字 <span class="variable">$num</span> = (int)<span class="variable">$str</span>; </span><br><span class="line"><span class="regexp">//</span> 将一个数字强制转换为布尔值 </span><br><span class="line"><span class="variable">$flag</span> = (bool)<span class="variable">$num</span>;</span><br></pre></td></tr></table></figure>

<p>作业：</p>
<p>sublime ctrl+K、L转小写， ctrl+K、U转大写</p>
<h2 id="关于API的定义"><a href="#关于API的定义" class="headerlink" title="关于API的定义"></a>关于API的定义</h2><p>API（APP Application interface    应用程序编程接口）</p>
<p>接口都是提供某种特定能力的事物，特点：<strong>有输入有输出</strong>。而我们在开发时（写代码时）用到的接口称为API（应用程序）</p>
<p>2种接口：</p>
<p>​    1.我们用到的函数（方法）</p>
<p>​    2.web接口：如api.douban.com/v2/movie/top250</p>
<p>不用知道有多少API，要用时去查：知道函数作用是什么，它输入输出是什么就可以了。学任何语言把精力放在语法上去。</p>
<p>具体实例看笔记中的code</p>
<p>函数不用在前面写字符类型</p>
<p>​    php获取宽字符，除3或mb_系列函数，如mb_strlen，但它们不在内置函数中，在一个模块里面，所以前提要开启php扩展：模块成员必须通过配置文件载入模块过后再使用。</p>
<p>在php/ext中可以看到php_mbstring.dll这个扩展</p>
<p>但要开启：1.将php目录的php.ini-development复制一个修改为php.ini</p>
<p>​                    2.修改php.ini中的extension_dir</p>
<p>​                    3.在php.ini解开这个扩展的注释</p>
<p>​                    4.默认apache加载的php.ini 是去Windows目录找的。可通过apache配置文件修改默认加载路径：</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 告诉APACHE php.ini所i在的路径</span></span><br><span class="line">PHPIniDir d:<span class="string">/php</span></span><br></pre></td></tr></table></figure>

<p>​                    5.通知apache：重启apache</p>
<p>phpinfo函数可到浏览器查看接口是否配置、扩展是否进来（要有小标题）</p>
<h2 id="PHP中的REPL环境"><a href="#PHP中的REPL环境" class="headerlink" title="PHP中的REPL环境"></a>PHP中的REPL环境</h2><p>php7才行</p>
<p>R E P L:读、执行、打印、循环</p>
<p>怎么样快速试验api？可直接执行php代码不用通过apache。（php里有php.exe，要用命令行去运行它：cd到该目录去运行、php -a进入REPL即可（末尾加；才能运行））</p>
<p>只有通过安装、删除、操作服务才用到管理员权限</p>
<p>isset和empty函数都会吞掉警告</p>
<p>false：0或字符串为空或字符串为0（会先转成数字对比）</p>
<p>js中有个include，判断字符串是否存在</p>
<p>Y——四位的年份，y——两位的年份</p>
<p>fopen、glob不常用</p>
<p>语法、超全局变量在具体应用中才能体现到它的意义</p>
<p>什么时候用常量：一般程序的配置信息（不会在运行过程中修改）都会在常量中定义</p>
<p>what why how where when</p>
<p>变量、函数命名规则</p>
<p>js:驼峰命名</p>
<p>php：小写下划线命名</p>
<p>php：常量大写下划线命名</p>
<h2 id="载入文件（代码）："><a href="#载入文件（代码）：" class="headerlink" title="载入文件（代码）："></a>载入文件（代码）：</h2><p>​                    CSS——import命令：@import url()</p>
<p>​                    php——4种方式</p>
<p>require    载入之后就执行。若文件不存在，会提示错误,当前文件不再往下执行</p>
<p>require_once    载入之后只执行一次（载入配置文件时）。若文件不存在，会提示错误,当前文件不再往下执行</p>
<p>include    （载入html页面片段时）载入文件不存在不会报错（会有警告），当前文件会继续执行</p>
<p>include_once</p>
<blockquote>
<p>警告的关闭：</p>
<p>// 只有当 php.ini 中 display_errors = On 时候<br>// 才会在界面上显示 notice 错误<br>// 开发阶段一定设置为 On 生产阶段（上线）设置为 Off</p>
<p>如果想要写代码调用函数时忽略错误或者警告，可以在对应调用的API前加个@，但开发阶段需要有错误信息。</p>
</blockquote>
<p>​        到Network可以看请求了多少文件</p>
<p>页面的公共地方：抽出来放到一个公共文件，再引用该文件</p>
<p>界面、功能（重要）。</p>
<h2 id="表单处理："><a href="#表单处理：" class="headerlink" title="表单处理："></a>表单处理：</h2><p>一个网站除了使用数据，还有收集数据（就是用表单）</p>
<p>表单实例——基本的注册、登陆界面：</p>
<h2 id="客户端表单提交注意事项："><a href="#客户端表单提交注意事项：" class="headerlink" title="客户端表单提交注意事项："></a>客户端表单提交注意事项：</h2><p>（只关心了html）</p>
<ol>
<li>必须有form标签</li>
<li>form必须指定action、method。<ol>
<li>不设置action默认是当前页面（有兼容性问题，必须设置）。</li>
<li>不设置method默认是get</li>
<li>表单元素（表单域input）必须有name（如果希望被提交的情况）</li>
<li>表单中必须有一个提交按钮（没有js前提下）</li>
</ol>
</li>
</ol>
<p>提交功能：input的type为submit的按钮、input的type为image的按钮、button（它默认类型为submit。用得更多，可控程度更高）</p>
<p>js中提交功能：通过获取form元素的dom对象，用dom对象的方法submit来提交</p>
<h2 id="服务端接受提交参数："><a href="#服务端接受提交参数：" class="headerlink" title="服务端接受提交参数："></a>服务端接受提交参数：</h2><h3 id="注册表单状态保持"><a href="#注册表单状态保持" class="headerlink" title="注册表单状态保持"></a>注册表单状态保持</h3><p>（只关心了php）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var_dump($_GET);</span><br><span class="line">&#x2F;&#x2F; $_GET 用于接收 URL 地址中问号参数中的提交数据（一般是 GET 参数）</span><br><span class="line">&#x2F;&#x2F;取一个具体值？如var_dump($_GET[&#39;usr&#39;]);</span><br><span class="line">var_dump($_POST);</span><br><span class="line">&#x2F;&#x2F; $_POST 用于接收 请求体 中提交的数据（一般是 POST 提交的数据）</span><br><span class="line"></span><br><span class="line">var_dump($_REQUEST);</span><br><span class="line">&#x2F;&#x2F; $_REQUEST &#x3D; $_GET + $_POST</span><br></pre></td></tr></table></figure>

<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  服务端注册处理的整体目标：（前提——判断提交方式是否对应）</span></span><br><span class="line"><span class="comment">//	接收用户提交的数据，保存到文件</span></span><br><span class="line"><span class="comment">//	表单处理经典三步骤</span></span><br><span class="line"><span class="comment">//	1.校验（完整性、正确性）、接收（校验完先检测再接收）</span></span><br><span class="line"><span class="comment">//	2.持久化（将数据持久地保存下来——硬盘/文件/数据库）</span></span><br><span class="line"><span class="comment">//	3.响应（服务端的反馈）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//这几步完成后，就解决各种发现的问题来实现功能，具体看笔记中code</span></span><br><span class="line">1.用户体验，表单处理用户名状态保持（放后处理）——注册表单状态保持。应对：添加默认值value、三元表达式value="&lt;?php echo isset(<span class="variable">$_POST</span>['username']) ? <span class="variable">$_POST</span>['username'] : ''; ?&gt;</span><br><span class="line">2.接收数据：应是追加式不是覆盖式（去查手册）</span><br><span class="line">3.校验步骤的优化，代码<span class="keyword">else</span>逻辑嵌套过深（放后处理）。嵌套原因：有<span class="keyword">else</span>。应对：找个办法替代<span class="keyword">else</span>的功能（如果是<span class="keyword">if</span>停止执行后面的代码）。</span><br><span class="line">	<span class="keyword">return</span>？结束方法的执行。但我们这段代码整体不在一个函数内部，不能写，写了会跟<span class="keyword">exit</span>()一样。（所以不介意在非函数内部使用）具体用途？拿<span class="keyword">include</span>、require载入返回值用，但不介意用。		<span class="keyword">exit</span>()？整个程序不再执行，不可以。</span><br><span class="line">	既然没有函数能，那我们自定义个函数：在函数里面用<span class="keyword">return</span>（条件一定要取非，才能写<span class="keyword">return</span>）。测试完有错：申明（标识）message提示消息为全局变量<span class="keyword">global</span> <span class="variable">$message</span> 或 超全局变量：将message换成<span class="variable">$GLOBALS</span>['message'],这样html仍使用<span class="variable">$message</span>也可以。具体看demo的register1.php</span><br><span class="line">4.关于错误消息的显示位置：如echo ‘会不会玩’；</span><br></pre></td></tr></table></figure>



<p>过程中，服务端会做哪些后续处理，如注册：存下来、登陆：检测。</p>
<p>注意：</p>
<p>​            1.任何在客户端的东西都不能信：如js的表单校验（检查的设置选项-Disable JavaScritpt）。能相信的只有服务端能否接收到，js只能做些界面的提升而已。所以有些人没学js也可以写网站</p>
<p>​            2.先有个开头，然后会发现再有无数问题，等你去慢慢解决后功能就出来了，问题在于怎么开头。开头不会？让人帮忙</p>
<p>​            3.写代码都有个语义化：让代码更容易被人理解</p>
<p>​            4.关于错误消息的显示位置：在html页面中（浏览器默认会用get的方式请求）来请求post的数据会报错，且只有错误时需要添加一对tr。怎么判断：用php与thml混编、isset是否定义 来判断来请求</p>
<p>5.注册成功也给个提示消息（暂时保留）</p>
<p>作业：在列表页添加表单的数据。（不把js和php混合到一起上）</p>
<h2 id="表单提交地址问题"><a href="#表单提交地址问题" class="headerlink" title="表单提交地址问题"></a>表单提交地址问题</h2><p>一般为了便于维护，我们将表单提交给当前页面本身</p>
<p>​        那接受提交数据，写在哪？</p>
<p>​        1.一般将表单处理逻辑放在html之前，为了更灵活的控制html的输出。（原因：登陆失败要给提示，若放在后面，html页面都执行完了你再执行这个逻辑代码就晚了：万一我们要做个错误提示，逻辑在前面提示就会在下方html中显示。在后面就不显示了）</p>
<p>2.因为对于表单的处理逻辑不是每次都需要执行，所以一般我们会判断请求方式决定是否执行对数据的处理</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($_SERVER[<span class="string">'REQUEST_METHOD'</span>] === <span class="string">'POST'</span>) &#123;   <span class="comment">// 表单提交请求（这的超全局成员：拿到服务端相关信息）</span></span></span><br><span class="line"><span class="php">  <span class="comment">// 请求的方式是post，当前是点击按钮产生的请求</span></span></span><br><span class="line"><span class="php">  var_dump($_POST);</span></span><br><span class="line"><span class="php">&#125; <span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>建议使用 $_SERVER[‘PHP_SELF’] 动态获取当前页面访问路径，这样就不用因为文件重命名或者网站目录结 构调整而修改代码了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!‐‐ 通过 &#96;$_SERVER[&#39;PHP_SELF&#39;]&#96; 获取路径，可以轻松避免这个问题 ‐‐&gt; </span><br><span class="line">&lt;form action&#x3D;&quot;&lt;?php echo $_SERVER[&#39;PHP_SELF&#39;]; ?&gt;&quot;&gt;   &lt;!‐‐ ... ‐‐&gt; </span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>

<p>呈现错误信息：不用echo（只在php代码不会到html代码中）</p>
<blockquote>
<p>鲁棒性：指的是我们的程序应对变化的能力</p>
</blockquote>
<h2 id="表单提交方式问题"><a href="#表单提交方式问题" class="headerlink" title="表单提交方式问题"></a>表单提交方式问题</h2><p>1.请求的方式不同</p>
<p>2.传参方式不同，get：url传参，post：请求体传参</p>
<p>具体看表单处理.md  </p>
<h2 id="常见表单元素处理"><a href="#常见表单元素处理" class="headerlink" title="常见表单元素处理"></a>常见表单元素处理</h2><p>至于表单元素中的文本框文本域一类的元素，都是直接将元素的 name 属性值作为键，用户填写的信息作为值，发送到服务端。</p>
<p>注意：每一个input一定要给它配个label(label是为了解释说明input的作用，如对屏幕朗读软件。通过for属性来关联起来)。按钮一般不要给name，除非按钮有多个。只给需要输入操作的给label。</p>
<p>如果表单中有个文件域，表单的method必须为post（因为请求体可以传二进制的数据），表单的编码类型enctype必须为multipart/form-data。</p>
<p>但是表单元素中还有一些比较特殊的表单元素需要单独考虑：</p>
<h3 id="单选按钮-radio"><a href="#单选按钮-radio" class="headerlink" title="单选按钮 radio"></a>单选按钮 radio</h3><p>注意：每一个input一定要给它配个label(label是为了解释说明input的作用，如对屏幕朗读软件。通过for属性来关联起来)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!‐‐ 最终只会提交选中的那一项的 value ‐‐&gt; &lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;gender&quot; value&#x3D;&quot;male&quot;&gt; &lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;gender&quot; value&#x3D;&quot;female&quot;&gt;</span><br><span class="line">&lt;!‐‐ 以name为界，以value为值让服务端可以辨别。不然值默认都为on ‐‐&gt;</span><br></pre></td></tr></table></figure>

<h3 id="复选按钮-checkbox"><a href="#复选按钮-checkbox" class="headerlink" title="复选按钮 checkbox"></a>复选按钮 checkbox</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!‐‐必须要有name才会被提交 ‐‐&gt;</span><br><span class="line">&lt;!‐‐没有设置value的 checkbox选中提交的 value 是 on ‐‐&gt; </span><br><span class="line">&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;agree&quot;&gt; </span><br><span class="line">&lt;!‐‐ 设置了 value 的 checkbox 选中提交的是 value 值 ‐‐&gt; &lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;agree&quot; value&#x3D;&quot;true&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>如果需要同时提交多个选中项，可以在 name 属性后面 跟上 [] ：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"funs[]"</span> <span class="attribute">id</span>=<span class="string">""</span> <span class="attribute">value</span>=<span class="string">"football"</span>&gt; &lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"funs[]"</span> <span class="attribute">id</span>=<span class="string">""</span> <span class="attribute">value</span>=<span class="string">"basketball"</span>&gt; &lt;input <span class="attribute">type</span>=<span class="string">"checkbox"</span> <span class="attribute">name</span>=<span class="string">"funs[]"</span> <span class="attribute">id</span>=<span class="string">""</span> <span class="attribute">value</span>=<span class="string">"world peace"</span>&gt;</span><br></pre></td></tr></table></figure>

<p>最终提交到服务端，通过 $_POST 接收到的是一个索引数组。</p>
<h3 id="选择框"><a href="#选择框" class="headerlink" title="选择框"></a>选择框</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">select</span> <span class="type">name</span>="subject"&gt;   </span><br><span class="line">	&lt;!‐‐ 设置 <span class="keyword">value</span> 提交 <span class="keyword">value</span> ‐‐&gt;   </span><br><span class="line">	&lt;<span class="keyword">option</span> <span class="keyword">value</span>="1"&gt;语文&lt;/<span class="keyword">option</span>&gt;   </span><br><span class="line">	&lt;!‐‐ 没有设置 <span class="keyword">value</span> 提交文本 innerText ‐‐&gt;   </span><br><span class="line">	&lt;<span class="keyword">option</span>&gt;数学&lt;/<span class="keyword">option</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure>

<h2 id="表单中的文件上传"><a href="#表单中的文件上传" class="headerlink" title="表单中的文件上传"></a>表单中的文件上传</h2><p>先考虑功能层面上的东西，再去看案例（案列牵扯的比较多）</p>
<h3 id="文件域的基本使用"><a href="#文件域的基本使用" class="headerlink" title="文件域的基本使用"></a>文件域的基本使用</h3><p>如果表单中有文件域（文件上传），表单的method必须为post（因为请求体可以传二进制的数据），表单的编码类型enctype必须为multipart/form-data。（多部分的、多卷的）</p>
<p>查看请求体：谷歌浏览器中，Network右击请求的问题最下面view-type可看</p>
<h4 id="提交文件"><a href="#提交文件" class="headerlink" title="提交文件"></a>提交文件</h4><p>想让文件域被提交，一定要加name</p>
<p>注意：input有个属性accept限制文件域可以选择哪种类型的文件，值是MIME Type或文件扩展名（能设多个，用，隔开），但只是提升了客户端友好性，php仍要设置校验</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">input</span> <span class="keyword">type</span>="file" <span class="type">name</span>="img"&gt;</span><br></pre></td></tr></table></figure>

<h4 id="接收文件"><a href="#接收文件" class="headerlink" title="接收文件"></a>接收文件</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> ($_SERVER[<span class="string">'REQUEST_METHOD'</span>] === <span class="string">'POST'</span>) &#123;</span><br><span class="line">  <span class="comment">// 接收文件 使用一个 叫做 $_FILES 超全局成员</span></span><br><span class="line">  var_dump($_FILES);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<p>文件上传服务端处理逻辑（接收(处理)步骤），具体看code</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F;	也会有个判断过程，又会出现else嵌套过深问题，所以也自定义个函数</span><br><span class="line">&#x2F;&#x2F; avatar 头像</span><br><span class="line">function upload () &#123;</span><br><span class="line">  if (!isset($_FILES[&#39;avatar&#39;])) &#123;</span><br><span class="line">    $GLOBALS[&#39;message&#39;] &#x3D; &#39;别玩我了&#39;;</span><br><span class="line">    &#x2F;&#x2F; （若没定义）即客户端提交的表单内容中根本没有文件域</span><br><span class="line">    &#x2F;&#x2F; 条件一定要取非，才能写return</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  $avatar &#x3D; $_FILES[&#39;avatar&#39;];</span><br><span class="line">  &#x2F;&#x2F;$avatar指的是一个关联数组</span><br><span class="line">  &#x2F;&#x2F; $avatar &#x3D;&gt; array(5) &#123;</span><br><span class="line">  &#x2F;&#x2F;   [&quot;name&quot;]&#x3D;&gt;</span><br><span class="line">  &#x2F;&#x2F;   string(11) &quot;icon-02.png&quot;</span><br><span class="line">  &#x2F;&#x2F;   [&quot;type&quot;]&#x3D;&gt;</span><br><span class="line">  &#x2F;&#x2F;   string(9) &quot;image&#x2F;png&quot;</span><br><span class="line">  &#x2F;&#x2F;   [&quot;tmp_name&quot;]&#x3D;&gt;</span><br><span class="line">  &#x2F;&#x2F;   string(27) &quot;C:\Windows\Temp\php1138.tmp&quot;</span><br><span class="line">  &#x2F;&#x2F;   [&quot;error&quot;]&#x3D;&gt;</span><br><span class="line">  &#x2F;&#x2F;   int(0)</span><br><span class="line">  &#x2F;&#x2F;   [&quot;size&quot;]&#x3D;&gt;</span><br><span class="line">  &#x2F;&#x2F;   int(4398)</span><br><span class="line">  &#x2F;&#x2F; &#125;</span><br><span class="line">  &#x2F;&#x2F;echo $avatar[&#39;error&#39;]; 检测文件错误码</span><br><span class="line">  if ($avatar[&#39;error&#39;] !&#x3D;&#x3D; UPLOAD_ERR_OK) &#123;</span><br><span class="line">    &#x2F;&#x2F; （上传失败）服务端没有接收到上传的文件</span><br><span class="line">    &#x2F;&#x2F;本来是写if ($avatar[&#39;error&#39;] !&#x3D;&#x3D; 0) ，但php为了语义化，用个常量去代表这个0，去php手册查看</span><br><span class="line">    $GLOBALS[&#39;message&#39;] &#x3D; &#39;上传失败&#39;;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 接收到了文件</span><br><span class="line">  &#x2F;&#x2F; 将文件从临时目录移动到网站范围之内（网站根目录以内）</span><br><span class="line">  $source &#x3D; $avatar[&#39;tmp_name&#39;]; &#x2F;&#x2F; 源文件在哪</span><br><span class="line">  &#x2F;&#x2F; &#x3D;&gt; &#39;C:\Windows\Temp\php1138.tmp&#39;</span><br><span class="line">  $target &#x3D; &#39;.&#x2F;uploads&#x2F;&#39; . $avatar[&#39;name&#39;]; &#x2F;&#x2F; 目标放在哪，目标原名</span><br><span class="line">  &#x2F;&#x2F; &#x3D;&gt; &#39;.&#x2F;uploads&#x2F;icon-02.png&#39;</span><br><span class="line">  &#x2F;&#x2F; 移动的目标路径中文件夹一定是一个已经存在的目录，不然报错。如果不存在，make一下这个dir</span><br><span class="line">  $moved &#x3D; move_uploaded_file($source, $target);</span><br><span class="line"></span><br><span class="line">  if (!$moved) &#123;</span><br><span class="line">    $GLOBALS[&#39;message&#39;] &#x3D; &#39;上传失败&#39;;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 移动成功（上传整个过程OK）</span><br><span class="line">  &#x2F;&#x2F;echo ’123‘； 检测</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($_SERVER[&#39;REQUEST_METHOD&#39;] &#x3D;&#x3D;&#x3D; &#39;POST&#39;) &#123;</span><br><span class="line">  &#x2F;&#x2F; 接收文件 使用一个 叫做 $_FILES 超全局成员</span><br><span class="line">  &#x2F;&#x2F; var_dump($_FILES);</span><br><span class="line">  upload();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<p>1.单个文件上传清空：</p>
<p>​    若有用户上传同名文件，一般将上传文件重命名：</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一般情况会将上传的文件重命名</span></span><br><span class="line">$target = <span class="string">'./uploads/'</span> . uniqid() . <span class="string">'-'</span> . $source[<span class="string">'name'</span>];</span><br><span class="line"><span class="keyword">if</span> (!move_uploaded_file($source[<span class="string">'tmp_name'</span>], $target)) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'上传音乐失败'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果不想要原名在内，自己百度（与php随机数有关）</p>
<p>2.多个文件上传</p>
<p>校验文件数量、文件种类</p>
<p>种类后处理，是因为写代码的原则：先处理简单的业务，再处理复杂的业务。</p>
<p>注意：input有个属性accept限制文件域可以选择哪种类型的文件，值是MIME Type，但只是提升了客户端友好性，php仍要设置校验</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 判断用户是否选择了文件</span></span><br><span class="line"><span class="keyword">if</span> ($source[<span class="string">'error'</span>] !== UPLOAD_ERR_OK) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'请选择音乐文件'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 校验文件的大小</span></span><br><span class="line"><span class="comment">//代码放在这个位置。</span></span><br><span class="line"><span class="comment">// 校验文件的大小</span></span><br><span class="line"><span class="comment">//字节跟M单位换算，这样写方便别人去看</span></span><br><span class="line"><span class="keyword">if</span> ($source[<span class="string">'size'</span>] &gt; <span class="number">10</span> * <span class="number">1024</span> * <span class="number">1024</span>) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'音乐文件过大'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($source[<span class="string">'size'</span>] &lt; <span class="number">1</span> * <span class="number">1024</span> * <span class="number">1024</span>) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'音乐文件过小'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 校验类型</span></span><br><span class="line">$allowed_types = <span class="keyword">array</span>(<span class="string">'audio/mp3'</span>, <span class="string">'audio/wma'</span>);</span><br><span class="line"><span class="keyword">if</span> (!in_array($source[<span class="string">'type'</span>], $allowed_types)) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'这是不支持的音乐格式'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="文件上传大小限制问题"><a href="#文件上传大小限制问题" class="headerlink" title="文件上传大小限制问题"></a>文件上传大小限制问题</h3><p>错误码为1。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">详细的错误码说明：http:<span class="comment">//php.net/manual/zh/features.file‐upload.errors.php </span></span><br><span class="line">http:<span class="comment">//php.net/manual/zh/features.ﬁle-upload.php</span></span><br><span class="line">注意：</span><br><span class="line">	修改 php.ini 中的 upload_max_filesize 配置，让服务端支持更大的单个上传文件。一般不设太大，防止别人恶意上传超大文件导致服务器内存不足崩溃，参考：设<span class="number">20</span>M</span><br><span class="line">	修改 php.ini 中的 post_max_size 配置，让服务端可以接受更大的请求体体积，参考：设<span class="number">80</span>M</span><br></pre></td></tr></table></figure>

<p>作业：音乐列表案例看表单处理pdf、登陆</p>
<h1 id="音乐列表案例"><a href="#音乐列表案例" class="headerlink" title="音乐列表案例"></a>音乐列表案例</h1><p>学习目的：表单处理流程、动态网站开发核心：把数据拿出来渲染到页面上。</p>
<p>第一件事：考虑数据怎么存怎么取？</p>
<h2 id="数据表述手段、存储数据格式的手段-JSON"><a href="#数据表述手段、存储数据格式的手段-JSON" class="headerlink" title="数据表述手段、存储数据格式的手段(JSON)"></a>数据表述手段、存储数据格式的手段(JSON)</h2><p>除了这些呢，就是我们专门用来存取数据的地方：数据库，比我们用这种普通文件存储的方式要更加简单，功能更加简单。</p>
<p>如json：想找某歌手的所有音乐，找数据：要遍历一下，然后挨个判断歌手名是否=该歌手</p>
<p>而数据库都有这种功能，让我们更容易做到这些事情。</p>
<p>其实数据库是一种数据存储的手段，只不过为了便于我们对数据的操作做了很多功能。</p>
<p>1.<strong>字面量：代码中表述数据的手段</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">var</span> <span class="string">obj</span> <span class="string">=</span> <span class="string">&#123;</span></span><br><span class="line">	<span class="attr">name:</span> <span class="number">123</span><span class="string">,</span></span><br><span class="line">	<span class="attr">age:</span> <span class="number">456</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">//数组字面量</span></span><br><span class="line"><span class="string">[</span></span><br><span class="line">	<span class="string">&#123;</span> <span class="attr">id:</span> <span class="number">1</span><span class="string">,</span> <span class="attr">name:</span> <span class="string">'朱芳'</span> <span class="string">&#125;,</span></span><br><span class="line">	<span class="string">&#123;</span> <span class="attr">id:</span> <span class="number">1</span><span class="string">,</span> <span class="attr">name:</span> <span class="string">'朱芳'</span> <span class="string">&#125;,</span>	</span><br><span class="line"><span class="string">]</span></span><br></pre></td></tr></table></figure>



<p>2.<strong>JSON：是一种类似于js的字面量的手段，也是表述数据的手段，现如今用得最多的数据格式。</strong>原因：解析容易，直接能把json字符串转换成对象或者说数组</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">	&#123;   </span><br><span class="line">		<span class="attr">"name"</span>: <span class="string">"zce"</span>,   </span><br><span class="line">		<span class="attr">"age"</span>: <span class="number">18</span>,   </span><br><span class="line">		<span class="attr">"gender"</span>: <span class="literal">true</span>,   			           <span class="attr">"girl_friend"</span>: <span class="literal">null</span> </span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;   </span><br><span class="line">		<span class="attr">"name"</span>: <span class="string">"zce"</span>,   </span><br><span class="line">		<span class="attr">"age"</span>: <span class="number">18</span>,   </span><br><span class="line">		<span class="attr">"gender"</span>: <span class="literal">true</span>,   			           <span class="attr">"girl_friend"</span>: <span class="literal">null</span> </span><br><span class="line">	&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>3.json中    <strong>属性名称</strong>必须用<strong>双引号</strong>包裹</p>
<p>​                <strong>字符串</strong>必须用<strong>双引号</strong>包裹 </p>
<p>​                不允许使用注释</p>
<p>4.如何解析服务器上传的json字符串中的数据(为了描述方便，这里把该数据给str)？</p>
<p>js中ES5提供了一个json对象：JSON.parse(str)得到一个数组，把json字符串转化为数据；用arr接受这些数据；把数据转成一个json字符串：JSON.stringIfy(arr)转换成 字符串 风格的，来得到转换成json格式的字符串。</p>
<p>1.数据怎么存怎么取？用json来存取（storage.json，里面有1个数组，数组里有4个对象，每个对象分别有5个属性）<br>2.把已有数据快速用页面呈现出来。静态页面（list.html、add.html）<br>3.动态php文件（list.php）。把数据呈现到已有页面上。</p>
<ul>
<li><p>已有页面：把list.html粘过来，注意依赖文件，如.css，再测试下页面能否正常显示。</p>
</li>
<li><p>数据：把表格里的数据换成我们从文件中读出来的数据：在页头加入php脚本去读取文件（不放下面原因：先获取数据再渲染数据，若先渲染就没意义了）。</p>
<p>​    具体步骤：1.获取文件中记录的数据，并展示到表格中（展示层面：是浏览器通过执行html去完成的。所以这儿php代码目的——为了动态生成表格的HTML标签）</p>
<p>​            1.1把已有数据做程序：当用户请求过来，我们读一下json文件，把json文件的数据解析出去，呈现到界面上。（问题：php中怎么样解析json？）。</p>
<p>php中怎么样解析json:</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">//php中怎么样解析json</span></span></span><br><span class="line"><span class="php"><span class="comment">//1.读文件</span></span></span><br><span class="line"><span class="php">$contents = file_get_contents(<span class="string">'storage.json'</span>);</span></span><br><span class="line"><span class="php"><span class="comment">// $contents =&gt; JSON 格式的字符串</span></span></span><br><span class="line"><span class="php"><span class="comment">// 2.把 JSON 格式的字符串转换为对象(数组)        的过程叫做反序列化</span></span></span><br><span class="line"><span class="php">$data = json_decode($contents, <span class="keyword">true</span>);<span class="comment">//打印检测发现返回的是对象。原因：json_decode默认反序列化是将json中的对象转换为PHP中stdClass类型的对象。应对：加true这个参数让使用关联数组的方式返回数据</span></span></span><br><span class="line"><span class="php"><span class="comment">//var_dump($arr); //先打印测试下，是否正确</span></span></span><br><span class="line"><span class="php"><span class="comment">// $data =&gt; []。既然是个数组，那我们就对它进行遍历，在哪遍历？每遍历数组当中一个元素，就生成表格里的一个tr标签，所以在tr标签外面遍历。</span></span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"></span><br><span class="line">html中：</span><br><span class="line"><span class="tag">&lt;<span class="name">tbody</span> <span class="attr">class</span>=<span class="string">"text-center"</span>&gt;</span></span><br><span class="line">		//2.2应该遍历的是什么？$data,索引数组，不需关心键，关心值就行了as $item</span><br><span class="line">        <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">foreach</span> ($data <span class="keyword">as</span> $item): <span class="meta">?&gt;</span></span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          //2.3 每一个item就是我们正在遍历的那一项。获取项里的值。会报错：报错时不要先切回代码去，先去过遍错误信息。错误：$item不是关联数组。原因：json_decode把json中的对象转换成stdClass的对象。应对：给该API添加第二个参数：true 或用对象语法$item-&gt;title（不建议，用传统语法关联数组语法就好）</span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="php"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> $item[<span class="string">'title'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="php"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> $item[<span class="string">'artist'</span>] <span class="meta">?&gt;</span></span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"&lt;?php echo $item['images'][0] ?&gt;"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">"&lt;?php echo $item['source'] ?&gt;"</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn btn-danger btn-sm"</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">endforeach</span> <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>1.2添加（add.php）。</p>
<p>​    客户端：首先有个添加的页面：把静态页面代码粘贴过来。</p>
<p>​    处理表单属性（再测试下，打开页面检查的Network，点页面的提交，查看请求：移到最下面看请求体）</p>
<p>​    服务端:在页头写php添加代码。想一下：新增的流程：</p>
<p>​    重心：提交、接收处理,具体看code</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 只是在表单提交时执行</span><br><span class="line"><span class="php"> */</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">add_music</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">  <span class="comment">// 目标</span></span></span><br><span class="line"><span class="php">  <span class="comment">//  将用户提交过来的数据保存到 storage.json 中</span></span></span><br><span class="line"><span class="php">  <span class="comment">// 步骤</span></span></span><br><span class="line"><span class="php">  <span class="comment">//  1. 接收并 校验（最麻烦的就是校验。有多少name判断多少次，但文件上传单独考虑）</span></span></span><br><span class="line"><span class="php">  <span class="comment">//  2. 持久化（一句代码就可完成）</span></span></span><br><span class="line"><span class="php">  <span class="comment">//  3. 响应</span></span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="comment">//	校验文本框</span></span></span><br><span class="line"><span class="php">  ......</span></span><br><span class="line"><span class="php">  <span class="comment">//	校验上传文件（注意：若有用户上传同名文件，一般将上传文件重命名）</span></span></span><br><span class="line"><span class="php">  ......</span></span><br><span class="line"><span class="php">  <span class="comment">//	</span></span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($_SERVER[<span class="string">'REQUEST_METHOD'</span>] === <span class="string">'POST'</span>) &#123;</span></span><br><span class="line"><span class="php">  add_music();</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure>

<p>注意：</p>
<p>1.单个文件上传清空：</p>
<p>​    若有用户上传同名文件，一般将上传文件重命名：</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一般情况会将上传的文件重命名</span></span><br><span class="line">$target = <span class="string">'./uploads/'</span> . uniqid() . <span class="string">'-'</span> . $source[<span class="string">'name'</span>];</span><br><span class="line"><span class="keyword">if</span> (!move_uploaded_file($source[<span class="string">'tmp_name'</span>], $target)) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'上传音乐失败'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果不想要原名在内，自己百度（与php随机数有关）</p>
<p>2.多个文件上传</p>
<p>校验文件数量、文件种类</p>
<p>种类后处理，是因为写代码的原则：先处理简单的业务，再处理复杂的业务。</p>
<p>注意：input有个属性accept限制文件域可以选择哪种类型的文件，值是MIME Type或文件扩展名（能设多个，用，隔开），但只是提升了客户端友好性，php仍要设置校验</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 判断用户是否选择了文件</span></span><br><span class="line"><span class="keyword">if</span> ($source[<span class="string">'error'</span>] !== UPLOAD_ERR_OK) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'请选择音乐文件'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 校验文件的大小</span></span><br><span class="line"><span class="comment">//代码放在这个位置。</span></span><br><span class="line"><span class="comment">// 校验文件的大小</span></span><br><span class="line"><span class="comment">//字节跟M单位换算，这样写方便别人去看</span></span><br><span class="line"><span class="keyword">if</span> ($source[<span class="string">'size'</span>] &gt; <span class="number">10</span> * <span class="number">1024</span> * <span class="number">1024</span>) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'音乐文件过大'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($source[<span class="string">'size'</span>] &lt; <span class="number">1</span> * <span class="number">1024</span> * <span class="number">1024</span>) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'音乐文件过小'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 校验类型</span></span><br><span class="line">$allowed_types = <span class="keyword">array</span>(<span class="string">'audio/mp3'</span>, <span class="string">'audio/wma'</span>);</span><br><span class="line"><span class="keyword">if</span> (!in_array($source[<span class="string">'type'</span>], $allowed_types)) &#123;</span><br><span class="line">  $GLOBALS[<span class="string">'error_message'</span>] = <span class="string">'这是不支持的音乐格式'</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还有多选文件问题、删除问题。</p>
<p>3.多选文件问题：具体看songs的add.php</p>
<p>如何接收单个文件域的多文件上传</p>
<p>客户端上，提升界面友好性：input还有个属性：mutiple。可以让一个文件域多选</p>
<p>服务端：在input的name值里多加个[]，再添加校验PHP代码。具体看songs</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> <span class="number">2</span>. 接收图片文件</span><br><span class="line">  <span class="regexp">//</span> 如何接收单个文件域的多文件上传？？？</span><br><span class="line">  <span class="keyword">if</span> (empty(<span class="variable">$_FILES</span>[<span class="string">'images'</span>])) &#123;</span><br><span class="line">    <span class="variable">$GLOBALS</span>[<span class="string">'error_message'</span>] = <span class="string">'请正常使用表单'</span>;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="variable">$images</span> = <span class="variable">$_FILES</span>[<span class="string">'images'</span>]; </span><br><span class="line">  <span class="regexp">//</span> 准备一个容器装所有的海报路径</span><br><span class="line">  <span class="variable">$data</span>[<span class="string">'images'</span>] = array();</span><br><span class="line">  </span><br><span class="line">  <span class="regexp">//</span>之前每个成员类型都是字符串，现在都是索引数组。就看用<span class="keyword">for</span>、foreach哪个合适，这里用<span class="keyword">for</span>好。原因：取每个成员的某个值都要用到下标</span><br><span class="line">  <span class="regexp">//</span> 遍历这个文件域中的每一个文件（判断是否成功、判断类型、判断大小、移动到网站目录中）</span><br><span class="line">  <span class="keyword">for</span> (<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; count(<span class="variable">$images</span>[<span class="string">'name'</span>]); <span class="variable">$i</span>++) &#123;</span><br><span class="line">    <span class="regexp">//</span> <span class="variable">$images</span>[<span class="string">'error'</span>] =&gt; [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$images</span>[<span class="string">'error'</span>][<span class="variable">$i</span>] !== UPLOAD_ERR_OK) &#123;</span><br><span class="line">      <span class="variable">$GLOBALS</span>[<span class="string">'error_message'</span>] = <span class="string">'上传海报文件失败1'</span>;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="regexp">//</span> 类型的校验</span><br><span class="line">    <span class="regexp">//</span> <span class="variable">$images</span>[<span class="string">'type'</span>] =&gt; [<span class="string">'image/png'</span>, <span class="string">'image/jpg'</span>, <span class="string">'image/gif'</span>]</span><br><span class="line">    <span class="keyword">if</span> (strpos(<span class="variable">$images</span>[<span class="string">'type'</span>][<span class="variable">$i</span>], <span class="string">'image/'</span>) !== <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="variable">$GLOBALS</span>[<span class="string">'error_message'</span>] = <span class="string">'上传海报文件格式错误'</span>;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="regexp">//</span> TODO: 文件大小的判断</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$images</span>[<span class="string">'size'</span>][<span class="variable">$i</span>] &gt; <span class="number">1</span> * <span class="number">1024</span> * <span class="number">1024</span>) &#123;</span><br><span class="line">      <span class="variable">$GLOBALS</span>[<span class="string">'error_message'</span>] = <span class="string">'上传海报文件过大'</span>;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="regexp">//</span> 移动文件到网站范围之内</span><br><span class="line">    <span class="variable">$dest</span> = <span class="string">'../uploads/'</span> . uniqid() . <span class="variable">$images</span>[<span class="string">'name'</span>][<span class="variable">$i</span>];</span><br><span class="line">    <span class="keyword">if</span> (!move_uploaded_file(<span class="variable">$images</span>[<span class="string">'tmp_name'</span>][<span class="variable">$i</span>], <span class="variable">$dest</span>)) &#123;</span><br><span class="line">      <span class="variable">$GLOBALS</span>[<span class="string">'error_message'</span>] = <span class="string">'上传海报文件失败2'</span>;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$data</span>[<span class="string">'images'</span>][] = substr(<span class="variable">$dest</span>, <span class="number">2</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h2 id="保存数据逻辑"><a href="#保存数据逻辑" class="headerlink" title="保存数据逻辑"></a>保存数据逻辑</h2><p>追加不了。就读出来添加再覆盖。</p>
<p>json不在意换行。汉字传进去unicode字符，不用关心</p>
<p>关于上传文件路径有坑：相对还是绝对。</p>
<p>添加完跳转回列表页：  header(‘Location: list.php’);</p>
<p>如遇到问题：</p>
<p>php代码段tab不出来？</p>
<p>开发工具的代码段工作不工作取决于当前的语言模式是什么（如黏贴过html就会变成html。）应对：CTRL+SHIFT+P 可通过set Syntax:PHP(或输入set ph切换语言模式)</p>
<p>session(HTTP会话、Cookie)</p>

    </div>

    
    
    
        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

            <div class="social-item">
              <a target="_blank" class="social-link" href="/atom.xml">
                <span class="icon">
                  <i class="fa fa-rss"></i>
                </span>

                <span class="label">RSS</span>
              </a>
            </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/PHP/" rel="tag"># PHP</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/03/29/02-HTTP/" rel="prev" title="02-HTTP">
      <i class="fa fa-chevron-left"></i> 02-HTTP
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/29/04-MySQL/" rel="next" title="04-MySQL">
      04-MySQL <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#注意"><span class="nav-number">1.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置-PHP-支持"><span class="nav-number">2.</span> <span class="nav-text">配置 PHP 支持</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是PHP"><span class="nav-number">3.</span> <span class="nav-text">什么是PHP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP写在哪"><span class="nav-number">4.</span> <span class="nav-text">PHP写在哪</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP使用"><span class="nav-number">5.</span> <span class="nav-text">PHP使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PHP-标记"><span class="nav-number">5.1.</span> <span class="nav-text">PHP 标记</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#省略结束标记"><span class="nav-number">5.2.</span> <span class="nav-text">省略结束标记</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#输出内容方式"><span class="nav-number">5.3.</span> <span class="nav-text">输出内容方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#与HTML混编"><span class="nav-number">5.4.</span> <span class="nav-text">与HTML混编</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注释"><span class="nav-number">5.5.</span> <span class="nav-text">注释</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#语法"><span class="nav-number">6.</span> <span class="nav-text">语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#编程语言常见的语法（学习新语言的方法）"><span class="nav-number">6.1.</span> <span class="nav-text">编程语言常见的语法（学习新语言的方法）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#变量"><span class="nav-number">6.2.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#数据类型"><span class="nav-number">6.2.1.</span> <span class="nav-text">数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#字符串"><span class="nav-number">6.2.1.1.</span> <span class="nav-text">字符串</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数据类型转换"><span class="nav-number">6.2.2.</span> <span class="nav-text">数据类型转换</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关于API的定义"><span class="nav-number">7.</span> <span class="nav-text">关于API的定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP中的REPL环境"><span class="nav-number">8.</span> <span class="nav-text">PHP中的REPL环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#载入文件（代码）："><span class="nav-number">9.</span> <span class="nav-text">载入文件（代码）：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表单处理："><span class="nav-number">10.</span> <span class="nav-text">表单处理：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#客户端表单提交注意事项："><span class="nav-number">11.</span> <span class="nav-text">客户端表单提交注意事项：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#服务端接受提交参数："><span class="nav-number">12.</span> <span class="nav-text">服务端接受提交参数：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#注册表单状态保持"><span class="nav-number">12.1.</span> <span class="nav-text">注册表单状态保持</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表单提交地址问题"><span class="nav-number">13.</span> <span class="nav-text">表单提交地址问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表单提交方式问题"><span class="nav-number">14.</span> <span class="nav-text">表单提交方式问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常见表单元素处理"><span class="nav-number">15.</span> <span class="nav-text">常见表单元素处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#单选按钮-radio"><span class="nav-number">15.1.</span> <span class="nav-text">单选按钮 radio</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#复选按钮-checkbox"><span class="nav-number">15.2.</span> <span class="nav-text">复选按钮 checkbox</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#选择框"><span class="nav-number">15.3.</span> <span class="nav-text">选择框</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表单中的文件上传"><span class="nav-number">16.</span> <span class="nav-text">表单中的文件上传</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#文件域的基本使用"><span class="nav-number">16.1.</span> <span class="nav-text">文件域的基本使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#提交文件"><span class="nav-number">16.1.1.</span> <span class="nav-text">提交文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#接收文件"><span class="nav-number">16.1.2.</span> <span class="nav-text">接收文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件上传大小限制问题"><span class="nav-number">16.2.</span> <span class="nav-text">文件上传大小限制问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#音乐列表案例"><span class="nav-number"></span> <span class="nav-text">音乐列表案例</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数据表述手段、存储数据格式的手段-JSON"><span class="nav-number">1.</span> <span class="nav-text">数据表述手段、存储数据格式的手段(JSON)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#保存数据逻辑"><span class="nav-number">2.</span> <span class="nav-text">保存数据逻辑</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="谢红斌"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">谢红斌</p>
  <div class="site-description" itemprop="description">谢红斌个人网站-记录web前端学习的个人博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/hongbinxie" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hongbinxie" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">谢红斌</span>
</div>
        
<div class="busuanzi-count">
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        本站访客数<span id="busuanzi_value_site_uv"></span>人次
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

  
  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/schemes/love.js"></script>

  
	<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
